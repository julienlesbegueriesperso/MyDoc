"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5987],{3184:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var s=i(5893),r=i(1151);const o={sidebar:4},t="ISOBIM Paving Prototype",l={id:"mes-docs/isobim",title:"ISOBIM Paving Prototype",description:"This prototype is a Web app allowing to pave buildings facades thanks",source:"@site/docs/mes-docs/isobim.md",sourceDirName:"mes-docs",slug:"/mes-docs/isobim",permalink:"/docs/mes-docs/isobim",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{sidebar:4},sidebar:"tutorialSidebar",previous:{title:"Hello",permalink:"/docs/mes-docs/hello"},next:{title:"This is interactive ...",permalink:"/docs/mes-docs/my-interactive-page"}},a={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Example of configuration",id:"example-of-configuration",level:2},{value:"Architecture",id:"architecture",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"isobim-paving-prototype",children:"ISOBIM Paving Prototype"}),"\n",(0,s.jsx)(n.h1,{id:"presentation",children:"Presentation"}),"\n",(0,s.jsx)(n.p,{children:"This prototype is a Web app allowing to pave buildings facades thanks\nto rectangular panels that are generated on-the-fly according to some\nconstructive principles."}),"\n",(0,s.jsx)(n.h1,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Mongodb exposing on localhost:27017"}),"\n",(0,s.jsx)(n.li,{children:"JDK 17"}),"\n",(0,s.jsx)(n.li,{children:"node >= 14.16.0"}),"\n",(0,s.jsx)(n.li,{children:"Keyclaok Server with a configured IsoBIM-Domain"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'    {\n    "realm": "IsoBIM-Domain",\n    "auth-server-url": "https://cosmos-auth.mines-albi.fr/auth",\n    "ssl-required": "external",\n    "resource": "isobim-paving-dashboard-client",\n    "public-client": true,\n    "confidential-port": 0\n    }\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"example-of-configuration",children:"Example of configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["a client must be created, called ",(0,s.jsx)(n.code,{children:"isobim-paving-dashboard-client"})," where the root URL must correspond to the deployed frontend URL."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,s.jsx)(n.mermaid,{value:"flowchart BT\np[Paving Solver<div><h4>Java Spring Boot</h4><p>http://localhost:8080</p></div>] --\x3e b\nb[Platform Backend<div><h4>NodeJS</h4><p>http://localhost:4800</p></div>]--\x3ef[Platform Frontend<div><h4>Angular</h4><p>dev: http://localhost:6201</p></div>]\nm[(Database<div><h4>MongoDB</h4><p>http://localhost:27017</p></div>)] <--\x3e p\nm <--\x3eb\nk[Authentication Server<div><h4>Keycloak Server</h4><p>https://cosmos-auth.mines-albi.fr/auth/realms/IsoBIM-Domain/</p></div>]--\x3ef"}),"\n",(0,s.jsx)(n.p,{children:"ISOBIM prototype is made of 3 parts:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["backend java in paving-solver folder","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["./mvnw spring-boot",":run"," with a JDK 17 installed"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["backend platform in backend folder","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"npm install"}),"\n",(0,s.jsx)(n.li,{children:"npm start (or node server.js)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["GUI frontend in frontend folder","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"npm install --legacy-peer-deps"}),"\n",(0,s.jsxs)(n.li,{children:["either build static files to be served by a http server such as apache or nginx (warning, the ip address is configured for the CGI labs server)","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"node --max_old_space_size=2024 ./node_modules/@angular/cli/bin/ng build --configuration=preprod --project=isobim-paving-dashboard --base-href /isobim-paving-dashboard/"})}),"\n",(0,s.jsxs)(n.li,{children:["local deployment (dev config working on localhost) : ",(0,s.jsx)(n.code,{children:"npx nx build isobim-paving-dashboard"}),", then for example ",(0,s.jsx)(n.code,{children:"python -m http.server 6201"})," in the dist/apps/isobim-paving-dashboard folder"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["either start a dev server","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"nx serve --project=isobim-paving-dashboard --port=6201"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(n.p,{children:["The JSON input of this app is defined here (TODO)\nHere is an ",(0,s.jsx)(n.a,{target:"_blank",href:i(4008).Z+"",children:"example"})," of JSON file."]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},4008:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/files/example-7643e7282b443f793cf93e9d4dc2cf2f.json"},1151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>t});var s=i(7294);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);